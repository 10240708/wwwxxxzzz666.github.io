---
layout: post
title: 解题之《货车运输》
subtitle: 倍增算法学习ing
date: 2018-10-26
categories: 题解
tags: 题解 信息学 NOIP LCA Kruscal重构树
---
___本题出自`NOIP提高`2013年的D1T3___

## 题目描述

$A$国有$n$座城市，编号从$1$到$n$，城市之间有$m$ 条双向道路。每一条道路对车辆都有重量限制，简称限重。现在有$q$ 辆货车在运输货物， 司机们想知道每辆车在不超过车辆限重的情况下，最多能运多重的货物。

## 输入输出格式

### 输入格式

第一行有两个用一个空格隔开的整数$n,m$，表示$A$国有$n$座城市和$m$条道路。

接下来$m$行每行$3$个整数$x,y,z$，每两个整数之间用一个空格隔开，表示从 $x$号城市到$y$号城市有一条限重为$z$的道路。注意：__$x$不等于$y$，两座城市之间可能有多条道路。__

接下来一行有一个整数$q$，表示有$q$辆货车需要运货。

接下来$q$行，每行两个整数$x,y$，之间用一个空格隔开，表示一辆货车需要从$x$城市运输货物到$y$城市，注意：__$x$不等于$y$。__

### 输出格式

共有$q$行，每行一个整数，表示对于每一辆货车，它的最大载重是多少。如果货车不能到达目的地，输出$-1$。

## 数据规模

对于$30\%$的数据，$0<n<1,000,0<m<10,000,0<q<1,000$；

对于$60\%$的数据，$0<n<1,000,0<m<50,000,0<q<1,000$；

对于$100\%$的数据，$0<n<10,000,0<m<50,000,0<q<30,000,0≤z≤100,000$。

## 题外话

这两天刚学习了如何用`倍增`算法来求`LCA`，于是便找来了这道题练习巩固一下，结果发现完全不会$QWQ$。
<br><br>
看完别的巨佬写的题解后，总算是有了思路。下面就来简单分析一下。

## 分析

废话不多说。不难看出有一些限重很小的`边`根本用不上，经过一番推敲，可以先用`Kruscal`求出`图`的的`最大生成树`再进行下一步处理。

`最大生成树`求出来后，两个`点`间的的`路径`就确定下来了，可以直接暴力枚举找到该`路径`上`边权`(这里就是限重)的最小值，此值即为一个询问的答案。

但是看看数据规模，这种暴力枚举肯定没法$AC$，所以要提高找`路径`上的`边权`最小值的算法效率。这个时候就该`倍增`算法出场啦。。

__(留坑待补)__
